<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2021b"><title>Advanced Read: Reading Data Using Dynamically Loaded Filters</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S2 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 4px; padding: 6px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S3 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S4 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S5 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }</style></head><body><div class = rtcContent><h1  class = 'S0'><span>Advanced Read: Reading Data Using Dynamically Loaded Filters</span></h1><div  class = 'S1'><span>HDF5 can use various filters to compress data when writing datasets. GZIP is the default filter, and it can be read with any HDF5 installation without any setup, but many users find that other filters, such as Zstd, offer better performance. If you want to read an HDF5 Dataset that was compressed using another filter in MATLAB, such as Zstd, you will need to configure MATLAB to read using dynamically loaded filters. </span></div><div  class = 'S1'><span>The easiest way we have found to set up dynamically loaded filters is to use the Python package </span><a href = "https://github.com/silx-kit/hdf5plugin"><span>hdf5plugin</span></a><span>. This library has a sophisticated installation process that compiles several of the most popular dynamically loaded filters and works across popular operating systems. Installing this Python package is a trick that allows us to offload the tricky parts of installing dynamically loaded filters in MATLAB.</span></div><div  class = 'S1'><span>1. In your Terminal window, install hdf5plugin:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span >pip </span><span style="color: rgb(170, 4, 249);">install hdf5plugin</span></span></div></div></div><div  class = 'S3'><span>2. In that same Terminal window, set the environment variable </span><span style=' font-family: monospace;'>HDF5_PLUGIN_PATH</span><span>:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span >export </span><span style="color: rgb(170, 4, 249);">HDF5_PLUGIN_PATH=$(python -c "import hdf5plugin</span><span >; print(hdf5plugin.PLUGINS_PATH)</span><span style="color: rgb(196, 0, 0);">")</span></span></div></div></div><div  class = 'S3'><span>3. From that same Terminal window, launch MATLAB:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span >/Applications/MATLAB_R2021b.app/bin/matlab</span></span></div></div></div><div  class = 'S3'><span>The path above is an example of a common location for OSX. The exact path of MATLAB may vary on your computer.</span></div><div  class = 'S1'><span>That's it! Now you can read datasets that use the following filters:</span></div><ul  class = 'S4'><li  class = 'S5'><span>Bitshuffle</span></li><li  class = 'S5'><span>Blosc</span></li><li  class = 'S5'><span>FciDecomp</span></li><li  class = 'S5'><span>LZ4</span></li><li  class = 'S5'><span>Zfp</span></li><li  class = 'S5'><span>Zstd</span></li></ul><div  class = 'S1'><span>The beauty of HDF5 is that it handles the rest under the hood. When you read a dataset that uses any of these filters, HDF5 will identify the correct decompression algorithm and decompress the data on-the-fly as you access it from the dataset.</span></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% Advanced Read: Reading Data Using Dynamically Loaded Filters
% HDF5 can use various filters to compress data when writing datasets. GZIP 
% is the default filter, and it can be read with any HDF5 installation without 
% any setup, but many users find that other filters, such as Zstd, offer better 
% performance. If you want to read an HDF5 Dataset that was compressed using another 
% filter in MATLAB, such as Zstd, you will need to configure MATLAB to read using 
% dynamically loaded filters. 
% 
% The easiest way we have found to set up dynamically loaded filters is to use 
% the Python package <https://github.com/silx-kit/hdf5plugin hdf5plugin>. This 
% library has a sophisticated installation process that compiles several of the 
% most popular dynamically loaded filters and works across popular operating systems. 
% Installing this Python package is a trick that allows us to offload the tricky 
% parts of installing dynamically loaded filters in MATLAB.
% 
% 1. In your Terminal window, install hdf5plugin:

pip install hdf5plugin
%% 
% 2. In that same Terminal window, set the environment variable |HDF5_PLUGIN_PATH|:

export HDF5_PLUGIN_PATH=$(python -c "import hdf5plugin; print(hdf5plugin.PLUGINS_PATH)")
%% 
% 3. From that same Terminal window, launch MATLAB:

/Applications/MATLAB_R2021b.app/bin/matlab
%% 
% The path above is an example of a common location for OSX. The exact path 
% of MATLAB may vary on your computer.
% 
% That's it! Now you can read datasets that use the following filters:
%% 
% * Bitshuffle
% * Blosc
% * FciDecomp
% * LZ4
% * Zfp
% * Zstd
%% 
% The beauty of HDF5 is that it handles the rest under the hood. When you read 
% a dataset that uses any of these filters, HDF5 will identify the correct decompression 
% algorithm and decompress the data on-the-fly as you access it from the dataset.
##### SOURCE END #####
-->
</div></body></html>